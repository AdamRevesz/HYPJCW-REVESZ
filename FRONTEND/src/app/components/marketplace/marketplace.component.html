<div class="container p-5"></div>

<div class="justify-content-center align-items-center container-fluid p-4">
    <div *ngIf="isLoading" class="loading-indicator text-center my-5">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Loading sales items...</p> 
    </div>

    <div *ngIf="error" class="alert alert-danger" role="alert">
        {{ error }}
    </div>

    <div *ngIf="!isLoading && !error && contents.length === 0" class="no-content text-center my-5">
        <p>No sales items found.</p>
    </div>

    <button class="btn btn-primary upload-button p-3 sansation-regular mb-3" routerLink="/salesupload">Upload New Sales Item</button> 
    
    <div *ngIf="!isLoading && !error && contents.length > 0">
        <ul class="list-group shadow-sm">
           <li class="list-group-item list-group-item-secondary d-none d-md-flex">
                <div class="row w-100 align-items-center">
                    <div class="col-md-2 fw-bold">Image</div>
                    <div class="col-md-2 fw-bold">Title</div>
                    <div class="col-md-2 fw-bold">Category</div>
                    <div class="col-md-2 fw-bold">Type</div>
                    <div class="col-md-2 fw-bold text-end">Price</div>
                    <div class="col-md-2 fw-bold text-center">Actions</div>
                </div>
            </li>

            <!-- List Items -->
            <li *ngFor="let salesItem of contents" class="list-group-item">
                <div class="row w-100 align-items-center gy-2">
                    <!-- Image -->
                    <div class="col-12 col-md-2">
                        <img *ngIf="salesItem.filePath" [src]="salesItem.filePath" alt="{{ salesItem.title }}"
                             class="img-fluid rounded" style="max-height: 75px; width: auto; max-width: 100%;">
                        <div *ngIf="!salesItem.filePath" class="text-muted small">No image</div>
                    </div>
                    <!-- Title -->
                    <div class="col-12 col-md-2">
                        <h6 class="mb-0">{{ salesItem.title }}</h6>
                    </div>
                    <!-- Category -->
                    <div class="col-12 col-md-2">
                        <span class="badge bg-info text-dark">{{ salesItem.category }}</span>
                    </div>
                    <!-- Type -->
                    <div class="col-12 col-md-2">
                        <span class="badge bg-secondary">{{ salesItem.type }}</span>
                    </div>
                    <!-- Price -->
                    <div class="col-12 col-md-2 text-md-end">
                        <strong>{{ salesItem.price | currency:'USD':'symbol' }}</strong>
                    </div>
                    <!-- Actions -->
                    <div class="col-12 col-md-2 text-md-center">
                        <div class="d-flex justify-content-center justify-content-md-end">
                            <button 
                                *ngIf="salesItem.id"
                                class="btn btn-outline-primary btn-sm me-2"
                                [routerLink]="['/edit-sales-item', salesItem.id]"
                                title="Edit {{salesItem.title}}">
                                <i class="bi bi-pencil"></i> <span class="d-none d-lg-inline">Edit</span>
                            </button>
                            <button 
                                *ngIf="salesItem.id" 
                                (click)="confirmDelete(salesItem.id, salesItem.title)" 
                                class="btn btn-danger btn-sm"
                                title="Delete {{salesItem.title}}">
                                <i class="bi bi-trash"></i> <span class="d-none d-lg-inline">Delete</span>
                            </button>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>